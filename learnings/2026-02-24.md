# 2026-02-24 学习总结

## 今日事件
- 完成 nullbr-sse MCP（经 mcporter）接入与连通验证。
- 固化检索与详情查询交互：`搜 <关键词>`、`tmdb_id: <id>`、`tmdb_id: <id> 资源 <类型>`。
- 明确资源返回优先级：优先 115，无 115 再回退 magnet / ed2k / video。

## 技术笔记
- 新增 SSE 服务：`mcporter config add nullbr-sse "https://mcp.nullbr.com/sse?api_key=<KEY>"`
- 工具发现：`mcporter list nullbr-sse --schema`
- 搜索：`mcporter call nullbr-sse.search_media query=<关键词> page:1`
- 详情：`mcporter call nullbr-sse.movie_detail tmdb_id:<id>`（TV 同理）
- 资源查询建议使用 JSON args，避免 `resource_type=115` 类型解析问题：
  - `mcporter call nullbr-sse.movie_resources --args '{"tmdb_id":1726,"resource_type":"115","page":1}'`

## 经验教训
- 把自然语言触发词与后端调用映射固定下来，可显著降低群聊场景下的使用门槛与歧义。
- 对字符串型参数（如 `"115"`）优先用 `--args` JSON 传参，稳定性更高。

## 待办
- 在其他群聊复用同一交互习惯（`搜 XX`、`tmdb_id: XXXX`）。
- 将 mcporter 配置中的 API key 迁移到环境变量注入方案。
# 2026-02-25 学习总结

## 🔧 技术学习
- 完成 `nullbr-sse`（通过 `mcporter`）接入并验证连通性，形成可复用调用链路。
- 固化自然语言触发约定：
  - `搜 <关键词>` → `nullbr-sse.search_media`
  - `tmdb_id: <id>` → 详情查询（movie_detail / tv_detail）
  - `tmdb_id: <id> 资源 <类型>` → 资源查询（movie_resources / tv_resources）
- `movie_resources` 在携带 `resource_type`（如 `115`）时，优先使用 JSON `--args` 传参，可避免类型解析异常。

## 🐛 踩坑记录
- 直接用普通参数传 `resource_type=115` 存在类型解析不稳定风险。
- 解决方案：改用 JSON 参数调用，例如：
  - `mcporter call nullbr-sse.movie_resources --args '{"tmdb_id":1726,"resource_type":"115","page":1}'`

## 💡 经验总结
- 统一“自然语言 → 工具调用”映射，能显著降低群聊复用成本与操作门槛。
- 资源返回策略应先定优先级再实现（本次为：115 优先，其次 magnet/ed2k/video），能提升结果一致性。
- 涉及 API Key 的工具配置应尽量从明文参数迁移到环境变量注入，降低泄露风险。

## 📚 输出文档
- `learnings/2026-02-25.md`（本学习总结）
- `MEMORY.md`（补充长期可复用经验）
